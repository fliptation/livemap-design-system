<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Livemap — Typography</title>
  <link rel="stylesheet" href="typography.css">
  <style>
    /* ---- Page chrome (not part of the design system) ---- */
    html { scroll-behavior: smooth; color-scheme: light; }
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    /* Force light-mode color tokens — the styleguide always renders on white */
    @media (prefers-color-scheme: dark) {
      :root {
        --color-label:            #1c1c1e;
        --color-label-secondary:  rgba(60, 60, 67, 0.75);
        --color-label-tertiary:   rgba(60, 60, 67, 0.30);
        --color-label-quaternary: rgba(60, 60, 67, 0.18);
        --color-tint-destructive: #ff3b30;
        --color-tint-positive:    #34c759;
        --color-tint-action:      #007aff;
      }
    }

    body {
      font-family: var(--font-family);
      background: #fff;
      color: #1c1c1e;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .page {
      display: flex;
      max-width: 1120px;
      margin: 0 auto;
      padding: 80px 40px 120px;
    }

    /* ---- Sidebar ---- */
    .sidebar {
      flex: 0 0 180px;
      position: sticky;
      top: 40px;
      align-self: flex-start;
      padding-right: 32px;
      max-height: calc(100vh - 80px);
      overflow-y: auto;
    }

    .sidebar__logo {
      width: 44px;
      height: 44px;
      margin: 0 10px 16px;
      opacity: 0.85;
    }

    /* ---- Search ---- */
    .sidebar__search {
      margin: 0 0 12px;
    }

    .sidebar__search-field {
      position: relative;
    }

    .sidebar__search-icon {
      position: absolute;
      left: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 14px;
      height: 14px;
      color: #aeaeb2;
      pointer-events: none;
      transition: color 0.15s;
    }

    .sidebar__search-input {
      width: 100%;
      font-family: var(--font-family-text);
      font-size: 12px;
      font-weight: var(--font-weight-regular);
      color: #1c1c1e;
      background: #f2f2f7;
      border: 1.5px solid transparent;
      border-radius: 8px;
      padding: 6px 28px 6px 26px;
      outline: none;
      transition: border-color 0.15s, background 0.15s;
      line-height: 16px;
    }

    .sidebar__search-input::placeholder {
      color: #aeaeb2;
    }

    .sidebar__search-input:focus {
      border-color: #007aff;
      background: #fff;
    }

    .sidebar__search-input:focus ~ .sidebar__search-icon {
      color: #007aff;
    }

    .sidebar__search-clear {
      position: absolute;
      right: 4px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      background: none;
      border: none;
      color: #aeaeb2;
      cursor: pointer;
      padding: 0;
      border-radius: 50%;
    }

    .sidebar__search-clear:hover {
      color: #636366;
    }

    .sidebar__search-clear svg {
      width: 12px;
      height: 12px;
    }

    .sidebar__search--has-query .sidebar__search-clear {
      display: flex;
    }

    .sidebar__search-bar {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 4px 6px 0;
      display: none;
    }

    .sidebar__search--has-query .sidebar__search-bar {
      display: flex;
    }

    .sidebar__search-meta {
      font-family: var(--font-family-text);
      font-size: 10px;
      font-weight: var(--font-weight-medium);
      color: #aeaeb2;
      line-height: 14px;
      flex: 1;
      padding-left: 4px;
    }

    .sidebar__search-meta kbd {
      font-family: var(--font-family-text);
      font-size: 9px;
      color: #c7c7cc;
      background: #e5e5ea;
      padding: 1px 4px;
      border-radius: 3px;
      font-weight: var(--font-weight-medium);
    }

    /* Search highlight marks */
    mark.search-hl {
      background: #ffd60a;
      color: inherit;
      border-radius: 2px;
      padding: 0 1px;
      box-shadow: 0 0 0 1px rgba(255, 214, 10, 0.4);
    }

    mark.search-hl--current {
      background: #ff9f0a;
      box-shadow: 0 0 0 2px rgba(255, 159, 10, 0.5);
    }

    .sidebar__search-nav {
      display: flex;
      gap: 2px;
    }

    .sidebar__search-nav button {
      width: 24px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f2f2f7;
      border: none;
      border-radius: 5px;
      color: #636366;
      cursor: pointer;
      padding: 0;
      transition: background 0.1s;
    }

    .sidebar__search-nav button:hover {
      background: #e5e5ea;
    }

    .sidebar__search-nav button:disabled {
      opacity: 0.3;
      cursor: default;
    }

    .sidebar__search-nav button svg {
      width: 12px;
      height: 12px;
    }

    .sidebar__nav {
      display: flex;
      flex-direction: column;
      gap: 2px;
      list-style: none;
    }

    .sidebar__link {
      font-family: var(--font-family-text);
      font-size: 12px;
      font-weight: var(--font-weight-regular);
      color: #8e8e93;
      text-decoration: none;
      padding: 5px 10px;
      border-radius: 6px;
      transition: color 0.15s, background 0.15s;
      line-height: 16px;
    }

    .sidebar__link:hover {
      color: #1c1c1e;
    }

    .sidebar__link.is-active {
      color: #1c1c1e;
      font-weight: var(--font-weight-medium);
    }

    .sidebar__divider {
      height: 1px;
      background: #e5e5ea;
      margin: 8px 10px;
    }

    .main-content {
      flex: 1;
      min-width: 0;
    }

    /* Section spacing */
    section { margin-top: 80px; scroll-margin-top: 32px; }
    section:first-of-type { margin-top: 60px; }

    /* Page header */
    .page-header {
      padding-bottom: 40px;
      border-bottom: 1px solid #e5e5ea;
      scroll-margin-top: 32px;
    }

    .page-title {
      font-family: var(--font-family-display);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #8e8e93;
      margin-bottom: 8px;
    }

    .page-heading {
      font-family: var(--font-family-display);
      font-size: 48px;
      font-weight: var(--font-weight-bold);
      line-height: 1.1;
      letter-spacing: -0.01em;
      color: #1c1c1e;
    }

    .page-heading span {
      color: #8e8e93;
      font-weight: var(--font-weight-light);
    }

    /* Section titles */
    .section-label {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #8e8e93;
      margin-bottom: 24px;
    }

    .section-note {
      font-family: var(--font-family-text);
      font-size: 15px;
      font-weight: var(--font-weight-regular);
      line-height: 22px;
      letter-spacing: -0.016em;
      color: #636366;
      max-width: 560px;
      margin-bottom: 40px;
    }

    /* ---- Type scale table ---- */
    .type-row {
      display: flex;
      align-items: baseline;
      padding: 20px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .type-row:last-child { border-bottom: none; }

    .type-row__meta {
      flex: 0 0 200px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .type-row__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .type-row__spec {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-regular);
      color: #aeaeb2;
      letter-spacing: 0.01em;
    }

    .type-row__sample {
      flex: 1;
      min-width: 0;
    }

    /* ---- Weight cards ---- */
    .weight-grid {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .weight-card {
      padding: 32px 0;
      border-bottom: 1px solid #f2f2f7;
    }

    .weight-card:last-child { border-bottom: none; }

    .weight-card__header {
      display: flex;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 6px;
    }

    .weight-card__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .weight-card__value {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
    }

    .weight-card__role {
      font-family: var(--font-family-text);
      font-size: 13px;
      color: #8e8e93;
      line-height: 18px;
      margin-bottom: 20px;
    }

    .weight-card__sample {
      font-family: var(--font-family);
      font-size: 40px;
      line-height: 1.15;
      letter-spacing: -0.01em;
      color: #1c1c1e;
      margin-bottom: 12px;
    }

    .weight-card__context {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .weight-card__tag {
      font-family: var(--font-family-text);
      font-size: 12px;
      font-weight: var(--font-weight-medium);
      color: #8e8e93;
      background: #f2f2f7;
      padding: 4px 10px;
      border-radius: 6px;
    }

    /* ---- Width variants ---- */
    .width-grid {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .width-row {
      display: flex;
      align-items: baseline;
      padding: 20px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .width-row:last-child { border-bottom: none; }

    .width-row__label {
      flex: 0 0 200px;
    }

    .width-row__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .width-row__note {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
      margin-top: 2px;
    }

    .width-row__sample {
      flex: 1;
      font-size: 36px;
      font-weight: 600;
      line-height: 1.2;
      color: #1c1c1e;
    }

    /* ---- Family variants ---- */
    .family-card {
      padding: 32px 0;
      border-bottom: 1px solid #f2f2f7;
    }

    .family-card:last-child { border-bottom: none; }

    .family-card__header {
      display: flex;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 16px;
    }

    .family-card__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .family-card__usage {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
    }

    .family-card__sample {
      font-size: 28px;
      line-height: 1.3;
      color: #1c1c1e;
    }

    .family-card__sample-small {
      font-size: 15px;
      line-height: 22px;
      color: #3a3a3c;
      margin-top: 12px;
      max-width: 600px;
    }

    /* ---- Emphasis demo ---- */
    .emphasis-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px 48px;
    }

    .emphasis-pair__label {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 8px;
    }

    .emphasis-pair__default {
      color: #1c1c1e;
      margin-bottom: 4px;
    }

    .emphasis-pair__emphasized {
      color: #1c1c1e;
    }

    .tag {
      display: inline-block;
      font-family: var(--font-family-text);
      font-size: 10px;
      font-weight: var(--font-weight-medium);
      color: #aeaeb2;
      margin-left: 8px;
      vertical-align: middle;
    }

    /* ---- Code reference table ---- */
    .ref-table {
      width: 100%;
      border-collapse: collapse;
    }

    .ref-table th {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      text-align: left;
      padding: 0 0 12px;
      border-bottom: 1px solid #e5e5ea;
    }

    .ref-table td {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-regular);
      color: #3a3a3c;
      padding: 10px 0;
      border-bottom: 1px solid #f2f2f7;
      vertical-align: top;
    }

    .ref-table td:first-child {
      font-weight: var(--font-weight-medium);
      color: #1c1c1e;
    }

    .ref-table code {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 12px;
      color: #636366;
      background: #f2f2f7;
      padding: 2px 6px;
      border-radius: 4px;
    }

    /* ---- Text Colors ---- */
    .color-grid {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .color-row {
      display: flex;
      align-items: center;
      padding: 16px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .color-row:last-child { border-bottom: none; }

    .color-row__swatch {
      flex: 0 0 40px;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,0.06);
    }

    .color-row__info {
      flex: 0 0 200px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .color-row__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .color-row__hex {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 11px;
      color: #aeaeb2;
    }

    .color-row__sample {
      flex: 1;
      font-family: var(--font-family-text);
      font-size: 17px;
      line-height: 22px;
    }

    .dark-strip {
      background: #1c1c1e;
      border-radius: 16px;
      padding: 32px;
      margin-top: 32px;
      overflow: visible;
    }

    .dark-strip .color-row {
      border-bottom-color: rgba(255,255,255,0.08);
    }

    .dark-strip .color-row__sample {
      min-width: 0;
    }

    .dark-strip .color-row__name {
      color: #fff;
    }

    .dark-strip .color-row__hex {
      color: rgba(235, 235, 245, 0.40);
    }

    .tint-grid {
      display: flex;
      gap: 32px;
      margin-top: 32px;
    }

    .tint-card {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .tint-card__sample {
      font-family: var(--font-family-text);
      font-size: 22px;
      font-weight: var(--font-weight-semibold);
      line-height: 28px;
    }

    .tint-card__meta {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .tint-card__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .tint-card__hex {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 11px;
      color: #aeaeb2;
    }

    .tint-card__tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .wcag-badge {
      flex: 0 0 auto;
      flex-shrink: 0;
      font-family: var(--font-family-text);
      font-size: 10px;
      font-weight: var(--font-weight-semibold);
      letter-spacing: 0.02em;
      padding: 3px 8px;
      border-radius: 4px;
      line-height: 14px;
      white-space: nowrap;
      display: inline-block;
    }

    .wcag-badge--pass {
      color: #1a7d36;
      background: rgba(52, 199, 89, 0.14);
    }

    .wcag-badge--fail {
      color: #c43025;
      background: rgba(255, 59, 48, 0.10);
    }

    .dark-strip .wcag-badge.wcag-badge--pass {
      color: #30d158;
      background: rgba(48, 209, 88, 0.20);
    }

    .dark-strip .wcag-badge.wcag-badge--fail {
      color: #ff453a;
      background: rgba(255, 69, 58, 0.20);
    }

    /* ---- Numbers & Tabular Figures ---- */
    .num-compare {
      display: flex;
      gap: 64px;
      margin-bottom: 40px;
    }

    .num-column {
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    .num-column__title {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      margin-bottom: 12px;
    }

    .num-column__value {
      font-family: var(--font-family-text);
      font-size: 28px;
      font-weight: var(--font-weight-medium);
      line-height: 40px;
      color: #1c1c1e;
      text-align: right;
      padding-right: 16px;
      border-right: 2px solid #f2f2f7;
    }

    .num-examples {
      display: flex;
      gap: 48px;
    }

    .num-example {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .num-example__label {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .num-example__values {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .num-example__row {
      display: flex;
      align-items: baseline;
      gap: 12px;
    }

    .num-example__row-name {
      font-family: var(--font-family-text);
      font-size: 15px;
      color: #636366;
      flex: 0 0 120px;
    }

    .num-example__row-value {
      font-family: var(--font-family-text);
      font-size: 15px;
      font-weight: var(--font-weight-medium);
      color: #1c1c1e;
      font-variant-numeric: tabular-nums;
    }

    /* ---- SF Mono ---- */
    .mono-specimen {
      display: flex;
      flex-direction: column;
      gap: 0;
      margin-bottom: 32px;
    }

    .mono-specimen__row {
      display: flex;
      align-items: baseline;
      padding: 16px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .mono-specimen__row:last-child { border-bottom: none; }

    .mono-specimen__label {
      flex: 0 0 200px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .mono-specimen__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .mono-specimen__spec {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
    }

    .mono-specimen__sample {
      flex: 1;
      color: #1c1c1e;
    }

    .mono-pairing {
      font-family: var(--font-family-text);
      font-size: 17px;
      line-height: 28px;
      color: #3a3a3c;
      max-width: 600px;
    }

    .mono-pairing code {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 15px;
      color: #1c1c1e;
      background: #f2f2f7;
      padding: 2px 6px;
      border-radius: 4px;
    }

    /* ---- Uppercase & Small Caps ---- */
    .overline-demos {
      display: flex;
      flex-direction: column;
      gap: 32px;
      margin-bottom: 32px;
    }

    .overline-demo {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .overline-demo__context {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
    }

    /* ---- Truncation ---- */
    .truncation-demos {
      display: flex;
      flex-direction: column;
      gap: 32px;
      margin-bottom: 40px;
    }

    .truncation-demo {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .truncation-demo__label {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .truncation-demo__box {
      background: #f9f9fb;
      border-radius: 12px;
      padding: 16px 20px;
    }

    .measure-demo {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .measure-bar {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .measure-bar__label {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-medium);
      color: #8e8e93;
    }

    .measure-bar__track {
      height: 8px;
      background: #e5e5ea;
      border-radius: 4px;
      position: relative;
    }

    .measure-bar__fill {
      height: 100%;
      border-radius: 4px;
      background: #007aff;
    }

    /* ---- Map Labels ---- */
    .map-label-hierarchy {
      display: flex;
      flex-direction: column;
      gap: 0;
      margin-bottom: 32px;
    }

    .map-label-row {
      display: flex;
      align-items: center;
      padding: 14px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .map-label-row:last-child { border-bottom: none; }

    .map-label-row__meta {
      flex: 0 0 200px;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .map-label-row__name {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-semibold);
      color: #1c1c1e;
    }

    .map-label-row__spec {
      font-family: var(--font-family-text);
      font-size: 11px;
      color: #aeaeb2;
    }

    .map-label-row__sample {
      flex: 1;
      color: #1c1c1e;
    }

    .map-context {
      display: flex;
      gap: 16px;
      margin-bottom: 32px;
    }

    .map-surface {
      flex: 1;
      border-radius: 16px;
      padding: 40px 32px;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .map-surface--light {
      background: #f0ece1;
      background-image:
        radial-gradient(ellipse at 30% 40%, #dce8d0 0%, transparent 60%),
        radial-gradient(ellipse at 70% 70%, #d6dce8 0%, transparent 50%);
    }

    .map-surface--dark {
      background: #1a1a2e;
      background-image:
        radial-gradient(ellipse at 30% 40%, #1e2a1e 0%, transparent 60%),
        radial-gradient(ellipse at 70% 70%, #1e1e2e 0%, transparent 50%);
    }

    .map-halo {
      text-shadow:
        -1px -1px 0 rgba(255,255,255,0.9),
         1px -1px 0 rgba(255,255,255,0.9),
        -1px  1px 0 rgba(255,255,255,0.9),
         1px  1px 0 rgba(255,255,255,0.9),
         0    2px 4px rgba(0,0,0,0.08);
    }

    .map-halo--dark {
      text-shadow:
        -1px -1px 0 rgba(0,0,0,0.7),
         1px -1px 0 rgba(0,0,0,0.7),
        -1px  1px 0 rgba(0,0,0,0.7),
         1px  1px 0 rgba(0,0,0,0.7),
         0    2px 4px rgba(0,0,0,0.3);
    }

    /* ---- Accessibility ---- */
    .size-check {
      display: flex;
      flex-direction: column;
      gap: 0;
      margin-bottom: 32px;
    }

    .size-check__row {
      display: flex;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #f2f2f7;
      gap: 24px;
    }

    .size-check__row:last-child { border-bottom: none; }

    .size-check__meta {
      flex: 0 0 120px;
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-medium);
      color: #1c1c1e;
    }

    .size-check__sample {
      flex: 1;
      color: #1c1c1e;
    }

    .size-check__status {
      flex: 0 0 80px;
      font-family: var(--font-family-text);
      font-size: 12px;
      font-weight: var(--font-weight-medium);
      text-align: right;
    }

    .touch-target-demo {
      display: flex;
      gap: 24px;
      align-items: center;
      margin-bottom: 32px;
    }

    .touch-target-box {
      width: 44px;
      height: 44px;
      border: 2px dashed #007aff;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      flex-shrink: 0;
    }

    .touch-target-box__label {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 10px;
      color: #007aff;
      white-space: nowrap;
    }

    .touch-target-demo__text {
      font-family: var(--font-family-text);
      font-size: 15px;
      color: #636366;
      line-height: 22px;
    }

    .contrast-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 32px;
    }

    .contrast-card {
      border-radius: 12px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .contrast-card__label-name {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      text-transform: uppercase;
      letter-spacing: 0.06em;
    }

    .contrast-card__sample {
      font-family: var(--font-family-text);
      font-size: 17px;
      line-height: 22px;
    }

    .contrast-card__ratio {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 11px;
    }

    .dt-table {
      width: 100%;
      border-collapse: collapse;
    }

    .dt-table th {
      font-family: var(--font-family-text);
      font-size: 11px;
      font-weight: var(--font-weight-semibold);
      color: #aeaeb2;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      text-align: left;
      padding: 0 0 12px;
      border-bottom: 1px solid #e5e5ea;
    }

    .dt-table td {
      font-family: "SF Mono", SFMono-Regular, ui-monospace, Menlo, monospace;
      font-size: 12px;
      color: #3a3a3c;
      padding: 8px 12px 8px 0;
      border-bottom: 1px solid #f2f2f7;
    }

    .dt-table td:first-child {
      font-family: var(--font-family-text);
      font-size: 13px;
      font-weight: var(--font-weight-medium);
      color: #1c1c1e;
    }

    .usage-hl {
      color: #1c1c1e;
      font-weight: var(--font-weight-medium);
    }

    .rule-box {
      background: #f9f9fb;
      border-radius: 12px;
      padding: 20px 24px;
      font-family: var(--font-family-text);
      font-size: 15px;
      line-height: 22px;
      color: #636366;
      max-width: 640px;
    }

    .rule-box strong {
      color: #1c1c1e;
      font-weight: var(--font-weight-semibold);
    }

  </style>
</head>
<body>
  <div class="page">

    <!-- ============================================================
         Sidebar Navigation
         ============================================================ -->
    <nav class="sidebar">
      <a href="#"><img src="livemap-logomark.png" alt="Livemap" class="sidebar__logo"></a>

      <div class="sidebar__search" id="sidebar-search">
        <div class="sidebar__search-field">
          <input class="sidebar__search-input" id="search-input" type="text" placeholder="Search…" autocomplete="off" spellcheck="false">
          <svg class="sidebar__search-icon" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><circle cx="6.5" cy="6.5" r="4.5"/><line x1="10" y1="10" x2="14" y2="14"/></svg>
          <button class="sidebar__search-clear" id="search-clear" tabindex="-1" aria-label="Clear search">
            <svg viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"><line x1="3" y1="3" x2="9" y2="9"/><line x1="9" y1="3" x2="3" y2="9"/></svg>
          </button>
        </div>
        <div class="sidebar__search-bar">
          <div class="sidebar__search-meta" id="search-meta"></div>
          <div class="sidebar__search-nav" id="search-nav">
            <button id="search-prev" aria-label="Previous match" disabled>
              <svg viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polyline points="2,8 6,4 10,8"/></svg>
            </button>
            <button id="search-next" aria-label="Next match" disabled>
              <svg viewBox="0 0 12 12" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><polyline points="2,4 6,8 10,4"/></svg>
            </button>
          </div>
        </div>
      </div>

      <ul class="sidebar__nav">
        <li><a class="sidebar__link" href="#font-families">Font Families</a></li>
        <li><a class="sidebar__link" href="#weight-scale">Weight Scale</a></li>
        <li><a class="sidebar__link" href="#width-variants">Width Variants</a></li>
        <li><a class="sidebar__link" href="#type-scale">iOS Type Scale</a></li>
        <li><a class="sidebar__link" href="#emphasis">Emphasis</a></li>
        <li><div class="sidebar__divider"></div></li>
        <li><a class="sidebar__link" href="#text-colors">Text Colors</a></li>
        <li><a class="sidebar__link" href="#tabular-figures">Numbers</a></li>
        <li><a class="sidebar__link" href="#sf-mono">SF Mono</a></li>
        <li><a class="sidebar__link" href="#uppercase">Uppercase</a></li>
        <li><a class="sidebar__link" href="#truncation">Truncation</a></li>
        <li><a class="sidebar__link" href="#map-labels">Map Labels</a></li>
        <li><a class="sidebar__link" href="#accessibility">Accessibility</a></li>
        <li><div class="sidebar__divider"></div></li>
        <li><a class="sidebar__link" href="#chat-bubbles">Chat Bubbles</a></li>
        <li><a class="sidebar__link" href="#timestamps">Timestamps</a></li>
        <li><a class="sidebar__link" href="#navigation">Navigation</a></li>
        <li><a class="sidebar__link" href="#states">States</a></li>
        <li><a class="sidebar__link" href="#search">Search</a></li>
        <li><a class="sidebar__link" href="#multilingual">Multilingual</a></li>
        <li><a class="sidebar__link" href="#interactive">Interactive</a></li>
        <li><div class="sidebar__divider"></div></li>
        <li><a class="sidebar__link" href="#token-reference">Token Reference</a></li>
        <li><a class="sidebar__link" href="#usage-notes">Usage Notes</a></li>
      </ul>
    </nav>

    <div class="main-content">

    <!-- ============================================================
         Header
         ============================================================ -->
    <header class="page-header">
      <p class="page-title">Livemap Design System <span style="opacity: 0.5; margin-left: 4px;">v0.1</span></p>
      <h1 class="page-heading">Typography <span>/ SF Pro</span></h1>
    </header>


    <!-- ============================================================
         1. Font Families
         ============================================================ -->
    <section id="font-families">
      <p class="section-label">Font Families</p>
      <p class="section-note">
        SF Pro is Apple's system typeface. It includes three variants: the default variable-width family, a Display cut for large sizes, a Text cut for small sizes, and a Rounded variant.
      </p>

      <div class="family-card">
        <div class="family-card__header">
          <span class="family-card__name">SF Pro</span>
          <span class="family-card__usage">Variable font with automatic optical sizing (opsz 17-28)</span>
        </div>
        <div class="family-card__sample" style="font-family: var(--font-family);">
          Explore Zürich from Bellevue to Bürkliplatz
        </div>
        <div class="family-card__sample-small" style="font-family: var(--font-family);">
          Every pin on the map tells a story. From the Altstadt to the lakefront, Livemap helps you discover places worth visiting and people worth meeting.
        </div>
      </div>

      <div class="family-card">
        <div class="family-card__header">
          <span class="family-card__name">SF Pro Display</span>
          <span class="family-card__usage">Optimized for 20pt and above</span>
        </div>
        <div class="family-card__sample" style="font-family: var(--font-family-display);">
          Navigate Basel, Bern, Luzern und beyond
        </div>
      </div>

      <div class="family-card">
        <div class="family-card__header">
          <span class="family-card__name">SF Pro Text</span>
          <span class="family-card__usage">Optimized for 19pt and below</span>
        </div>
        <div class="family-card__sample-small" style="font-family: var(--font-family-text); margin-top: 0;">
          Biege rechts ab in die Bahnhofstrasse, dann weiter geradeaus bis zur Quaibrücke. Du erreichst dein Ziel in etwa 12 Minuten zu Fuss.
        </div>
      </div>

      <div class="family-card">
        <div class="family-card__header">
          <span class="family-card__name">SF Pro Rounded</span>
          <span class="family-card__usage">Softer terminals for badges, chips, friendly UI moments</span>
        </div>
        <div class="family-card__sample" style="font-family: var(--font-family-rounded);">
          3 Fründe in der Nähe gefunden
        </div>
        <div class="family-card__sample-small" style="font-family: var(--font-family-rounded);">
          Du hast 3 neue Orte in deiner Nähe entdeckt. Schau sie dir an, bevor sie schliessen!
        </div>
      </div>
    </section>


    <!-- ============================================================
         2. Weight Scale — Livemap uses 4 weights
         ============================================================ -->
    <section id="weight-scale">
      <p class="section-label">Weight Scale</p>
      <p class="section-note">
        SF Pro ships 9 weights. Livemap uses four. Each has a clear role &mdash; if you're reaching for a weight not listed here, reconsider the hierarchy.
      </p>

      <div class="weight-grid">
        <div class="weight-card">
          <div class="weight-card__header">
            <span class="weight-card__name">Regular</span>
            <span class="weight-card__value">400</span>
          </div>
          <p class="weight-card__role">The default. Most text in the app is Regular.</p>
          <div class="weight-card__sample" style="font-weight: 400;">Explore late-night options</div>
          <div class="weight-card__context">
            <span class="weight-card__tag">Body text</span>
            <span class="weight-card__tag">Descriptions</span>
            <span class="weight-card__tag">Directions prose</span>
            <span class="weight-card__tag">Input fields</span>
            <span class="weight-card__tag">Placeholders</span>
            <span class="weight-card__tag">Secondary metadata</span>
          </div>
        </div>

        <div class="weight-card">
          <div class="weight-card__header">
            <span class="weight-card__name">Medium</span>
            <span class="weight-card__value">500</span>
          </div>
          <p class="weight-card__role">Subtle emphasis. Present but never loud.</p>
          <div class="weight-card__sample" style="font-weight: 500;">Wiiter schwätze...</div>
          <div class="weight-card__context">
            <span class="weight-card__tag">Tab bar labels</span>
            <span class="weight-card__tag">Filter chips</span>
            <span class="weight-card__tag">Tinted action links</span>
            <span class="weight-card__tag">Status tags</span>
            <span class="weight-card__tag">Small caps labels</span>
            <span class="weight-card__tag">Inactive navigation</span>
          </div>
        </div>

        <div class="weight-card">
          <div class="weight-card__header">
            <span class="weight-card__name">Semibold</span>
            <span class="weight-card__value">600</span>
          </div>
          <p class="weight-card__role">Primary emphasis. The workhorse for titles and actions.</p>
          <div class="weight-card__sample" style="font-weight: 600;">Ristorante Da Mario</div>
          <div class="weight-card__context">
            <span class="weight-card__tag">Card titles</span>
            <span class="weight-card__tag">Nav bar titles</span>
            <span class="weight-card__tag">List item names</span>
            <span class="weight-card__tag">Button labels</span>
            <span class="weight-card__tag">Notification headlines</span>
            <span class="weight-card__tag">Active chip states</span>
          </div>
        </div>

        <div class="weight-card">
          <div class="weight-card__header">
            <span class="weight-card__name">Bold</span>
            <span class="weight-card__value">700</span>
          </div>
          <p class="weight-card__role">Reserved for large type only. Sheet headers, section titles, turn-by-turn.</p>
          <div class="weight-card__sample" style="font-weight: 700;">Food</div>
          <div class="weight-card__context">
            <span class="weight-card__tag">Large Title</span>
            <span class="weight-card__tag">Sheet headers</span>
            <span class="weight-card__tag">Section titles</span>
            <span class="weight-card__tag">Turn-by-turn primary</span>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         3. Width Variants
         ============================================================ -->
    <section id="width-variants">
      <p class="section-label">Width Variants</p>
      <p class="section-note">
        SF Pro's variable font includes a width axis (wdth 30-150). Four named widths are available as static cuts. Useful for <span class="usage-hl">map labels</span>, <span class="usage-hl">compact data views</span>, and space-constrained UI.
      </p>

      <div class="width-grid">
        <div class="width-row">
          <div class="width-row__label">
            <div class="width-row__name">Compressed</div>
            <div class="width-row__note">wdth: 47</div>
          </div>
          <div class="width-row__sample" style="font-family: 'SF Pro'; font-stretch: 47%;">Livemap Navigation</div>
        </div>
        <div class="width-row">
          <div class="width-row__label">
            <div class="width-row__name">Condensed</div>
            <div class="width-row__note">wdth: 60</div>
          </div>
          <div class="width-row__sample" style="font-family: 'SF Pro'; font-stretch: 60%;">Livemap Navigation</div>
        </div>
        <div class="width-row">
          <div class="width-row__label">
            <div class="width-row__name">Normal</div>
            <div class="width-row__note">wdth: 100</div>
          </div>
          <div class="width-row__sample" style="font-family: 'SF Pro'; font-stretch: 100%;">Livemap Navigation</div>
        </div>
        <div class="width-row">
          <div class="width-row__label">
            <div class="width-row__name">Expanded</div>
            <div class="width-row__note">wdth: 132</div>
          </div>
          <div class="width-row__sample" style="font-family: 'SF Pro'; font-stretch: 132%;">Livemap Navigation</div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         4. iOS Type Scale
         ============================================================ -->
    <section id="type-scale">
      <p class="section-label">iOS Type Scale</p>
      <p class="section-note">
        Apple's Dynamic Type scale at the default Large size. Display styles (20pt+) use SF Pro Display; text styles (19pt and below) use SF Pro Text. The base size is <span class="usage-hl">17px</span> (Body &amp; Headline) — Apple's default for comfortable one-handed reading at typical phone viewing distance (~25–30 cm). It aligns with UIFont.preferredFont at the "Large" Dynamic Type setting, ensuring text is legible without zooming while leaving room for the scale to grow in accessibility sizes.
      </p>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Large Title</span>
          <span class="type-row__spec">34 / 41 / Regular / +0.011em</span>
        </div>
        <div class="type-row__sample type-large-title">Explore the map</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Title 1</span>
          <span class="type-row__spec">28 / 34 / Regular / +0.013em</span>
        </div>
        <div class="type-row__sample type-title1">Nearby places</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Title 2</span>
          <span class="type-row__spec">22 / 28 / Regular / +0.016em</span>
        </div>
        <div class="type-row__sample type-title2">Saved locations</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Title 3</span>
          <span class="type-row__spec">20 / 25 / Regular / +0.019em</span>
        </div>
        <div class="type-row__sample type-title3">Route details</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Headline</span>
          <span class="type-row__spec">17 / 22 / Semibold / -0.024em</span>
        </div>
        <div class="type-row__sample type-headline">Current location</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Body</span>
          <span class="type-row__spec">17 / 22 / Regular / -0.024em</span>
        </div>
        <div class="type-row__sample type-body">Biege rechts ab in die Bahnhofstrasse, dann weiter 200 Meter bis zur Kreuzung.</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Callout</span>
          <span class="type-row__spec">16 / 21 / Regular / -0.020em</span>
        </div>
        <div class="type-row__sample type-callout">Estimated arrival in 12 minutes</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Subheadline</span>
          <span class="type-row__spec">15 / 20 / Regular / -0.016em</span>
        </div>
        <div class="type-row__sample type-subheadline">3.2 km away</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Footnote</span>
          <span class="type-row__spec">13 / 18 / Regular / -0.006em</span>
        </div>
        <div class="type-row__sample type-footnote">Last updated 2 minutes ago</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Caption 1</span>
          <span class="type-row__spec">12 / 16 / Regular / 0</span>
        </div>
        <div class="type-row__sample type-caption1">Map data provided by OpenStreetMap contributors</div>
      </div>

      <div class="type-row">
        <div class="type-row__meta">
          <span class="type-row__name">Caption 2</span>
          <span class="type-row__spec">11 / 13 / Regular / +0.006em</span>
        </div>
        <div class="type-row__sample type-caption2">Coordinates: 47.3769, 8.5417</div>
      </div>
    </section>


    <!-- ============================================================
         5. Emphasis
         ============================================================ -->
    <section id="emphasis">
      <p class="section-label">Emphasis</p>
      <p class="section-note">
        Each type style steps up one weight when emphasized. Constrained to the 4-weight system &mdash; each style moves to the next available weight.
      </p>

      <div class="emphasis-grid">
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Large Title</div>
          <div class="emphasis-pair__default type-large-title">Explore <span class="tag">Regular 400</span></div>
          <div class="emphasis-pair__emphasized type-large-title emphasized">Explore <span class="tag">Bold 700</span></div>
        </div>
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Headline</div>
          <div class="emphasis-pair__default type-headline">Location <span class="tag">Semibold 600</span></div>
          <div class="emphasis-pair__emphasized type-headline emphasized">Location <span class="tag">Bold 700</span></div>
        </div>
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Body</div>
          <div class="emphasis-pair__default type-body">Directions <span class="tag">Regular 400</span></div>
          <div class="emphasis-pair__emphasized type-body emphasized">Directions <span class="tag">Semibold 600</span></div>
        </div>
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Callout</div>
          <div class="emphasis-pair__default type-callout">Arrival <span class="tag">Regular 400</span></div>
          <div class="emphasis-pair__emphasized type-callout emphasized">Arrival <span class="tag">Medium 500</span></div>
        </div>
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Footnote</div>
          <div class="emphasis-pair__default type-footnote">Updated <span class="tag">Regular 400</span></div>
          <div class="emphasis-pair__emphasized type-footnote emphasized">Updated <span class="tag">Semibold 600</span></div>
        </div>
        <div class="emphasis-pair">
          <div class="emphasis-pair__label">Caption 1</div>
          <div class="emphasis-pair__default type-caption1">Source <span class="tag">Regular 400</span></div>
          <div class="emphasis-pair__emphasized type-caption1 emphasized">Source <span class="tag">Medium 500</span></div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         6. Text Colors
         ============================================================ -->
    <section id="text-colors">
      <p class="section-label">Text Colors</p>
      <p class="section-note">
        iOS defines four semantic label colors. Livemap adjusts Secondary from Apple's default 60% to 75% opacity to meet WCAG AA (4.5:1). Tertiary and Quaternary intentionally fail AA &mdash; use only for <span class="usage-hl">placeholders</span>, <span class="usage-hl">disabled states</span>, or <span class="usage-hl">decorative elements</span>.
      </p>

      <div class="color-grid">
        <div class="color-row">
          <div class="color-row__swatch" style="background: #1c1c1e;"></div>
          <div class="color-row__info">
            <span class="color-row__name">Label (Primary)</span>
            <span class="color-row__hex">#1c1c1e</span>
          </div>
          <div class="color-row__sample" style="color: #1c1c1e;">Ristorante Da Mario</div>
          <span class="wcag-badge wcag-badge--pass">AA 16.5:1</span>
        </div>
        <div class="color-row">
          <div class="color-row__swatch" style="background: rgba(60, 60, 67, 0.75);"></div>
          <div class="color-row__info">
            <span class="color-row__name">Secondary</span>
            <span class="color-row__hex">#3c3c43 / 75%</span>
          </div>
          <div class="color-row__sample" style="color: rgba(60, 60, 67, 0.75);">Italian &middot; $$$ &middot; 1.2 km</div>
          <span class="wcag-badge wcag-badge--pass">AA 5.0:1</span>
        </div>
        <div class="color-row">
          <div class="color-row__swatch" style="background: rgba(60, 60, 67, 0.30);"></div>
          <div class="color-row__info">
            <span class="color-row__name">Tertiary</span>
            <span class="color-row__hex">#3c3c43 / 30%</span>
          </div>
          <div class="color-row__sample" style="color: rgba(60, 60, 67, 0.30);">Search places&hellip;</div>
          <span class="wcag-badge wcag-badge--fail">AA 1.9:1</span>
        </div>
        <div class="color-row">
          <div class="color-row__swatch" style="background: rgba(60, 60, 67, 0.18);"></div>
          <div class="color-row__info">
            <span class="color-row__name">Quaternary</span>
            <span class="color-row__hex">#3c3c43 / 18%</span>
          </div>
          <div class="color-row__sample" style="color: rgba(60, 60, 67, 0.18);">Decorative only</div>
          <span class="wcag-badge wcag-badge--fail">AA 1.4:1</span>
        </div>
      </div>

      <!-- Dark mode preview -->
      <div class="dark-strip">
        <div class="color-grid">
          <div class="color-row">
            <div class="color-row__swatch" style="background: #fff; border-color: rgba(255,255,255,0.1);"></div>
            <div class="color-row__info">
              <span class="color-row__name">Label (Primary)</span>
              <span class="color-row__hex">#ffffff</span>
            </div>
            <div class="color-row__sample" style="color: #fff;">Ristorante Da Mario</div>
            <span class="wcag-badge wcag-badge--pass">AA 16.5:1</span>
          </div>
          <div class="color-row">
            <div class="color-row__swatch" style="background: rgba(235, 235, 245, 0.60); border-color: rgba(255,255,255,0.1);"></div>
            <div class="color-row__info">
              <span class="color-row__name">Secondary</span>
              <span class="color-row__hex">#ebebf5 / 60%</span>
            </div>
            <div class="color-row__sample" style="color: rgba(235, 235, 245, 0.60);">Italian &middot; $$$ &middot; 1.2 km</div>
            <span class="wcag-badge wcag-badge--pass">AA 6.8:1</span>
          </div>
          <div class="color-row">
            <div class="color-row__swatch" style="background: rgba(235, 235, 245, 0.30); border-color: rgba(255,255,255,0.1);"></div>
            <div class="color-row__info">
              <span class="color-row__name">Tertiary</span>
              <span class="color-row__hex">#ebebf5 / 30%</span>
            </div>
            <div class="color-row__sample" style="color: rgba(235, 235, 245, 0.30);">Search places&hellip;</div>
            <span class="wcag-badge wcag-badge--fail">AA 2.8:1</span>
          </div>
          <div class="color-row">
            <div class="color-row__swatch" style="background: rgba(235, 235, 245, 0.18); border-color: rgba(255,255,255,0.1);"></div>
            <div class="color-row__info">
              <span class="color-row__name">Quaternary</span>
              <span class="color-row__hex">#ebebf5 / 18%</span>
            </div>
            <div class="color-row__sample" style="color: rgba(235, 235, 245, 0.18);">Decorative only</div>
            <span class="wcag-badge wcag-badge--fail">AA 1.9:1</span>
          </div>
        </div>
      </div>

      <!-- Tinted text colors -->
      <div class="tint-grid">
        <div class="tint-card">
          <div class="tint-card__sample" style="color: #ff3b30;">Closed</div>
          <div class="tint-card__meta">
            <span class="tint-card__name">Destructive</span>
            <span class="tint-card__hex">#ff3b30</span>
          </div>
          <div class="tint-card__tags">
            <span class="weight-card__tag">Closed status</span>
            <span class="weight-card__tag">Errors</span>
            <span class="weight-card__tag">Delete actions</span>
          </div>
        </div>
        <div class="tint-card">
          <div class="tint-card__sample" style="color: #34c759;">Open now</div>
          <div class="tint-card__meta">
            <span class="tint-card__name">Positive</span>
            <span class="tint-card__hex">#34c759</span>
          </div>
          <div class="tint-card__tags">
            <span class="weight-card__tag">Open status</span>
            <span class="weight-card__tag">Success</span>
            <span class="weight-card__tag">Confirmations</span>
          </div>
        </div>
        <div class="tint-card">
          <div class="tint-card__sample" style="color: #007aff;">Directions</div>
          <div class="tint-card__meta">
            <span class="tint-card__name">Action</span>
            <span class="tint-card__hex">#007aff</span>
          </div>
          <div class="tint-card__tags">
            <span class="weight-card__tag">Links</span>
            <span class="weight-card__tag">Actions</span>
            <span class="weight-card__tag">Interactive text</span>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         7. Numbers & Tabular Figures
         ============================================================ -->
    <section id="tabular-figures">
      <p class="section-label">Numbers &amp; Tabular Figures</p>
      <p class="section-note">
        Tabular figures give every digit equal width, making columns of numbers align vertically. Use them for <span class="usage-hl">distances</span>, <span class="usage-hl">times</span>, <span class="usage-hl">prices</span>, and <span class="usage-hl">ratings</span>. Proportional figures (the default) are better for numbers in running text.
      </p>

      <div class="num-compare">
        <div class="num-column">
          <div class="num-column__title">Tabular Figures</div>
          <div class="num-column__value" style="font-variant-numeric: tabular-nums;">1'234</div>
          <div class="num-column__value" style="font-variant-numeric: tabular-nums;">56'789</div>
          <div class="num-column__value" style="font-variant-numeric: tabular-nums;">10</div>
          <div class="num-column__value" style="font-variant-numeric: tabular-nums;">999'999</div>
        </div>
        <div class="num-column">
          <div class="num-column__title">Proportional Figures</div>
          <div class="num-column__value" style="font-variant-numeric: proportional-nums; border-right-color: transparent;">1'234</div>
          <div class="num-column__value" style="font-variant-numeric: proportional-nums; border-right-color: transparent;">56'789</div>
          <div class="num-column__value" style="font-variant-numeric: proportional-nums; border-right-color: transparent;">10</div>
          <div class="num-column__value" style="font-variant-numeric: proportional-nums; border-right-color: transparent;">999'999</div>
        </div>
      </div>

      <div class="num-examples">
        <div class="num-example">
          <div class="num-example__label">Distances</div>
          <div class="num-example__values">
            <div class="num-example__row">
              <span class="num-example__row-name">3 Fründe</span>
              <span class="num-example__row-value">3.2 km</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Rosengarten</span>
              <span class="num-example__row-value">12.7 km</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Münsterplatz</span>
              <span class="num-example__row-value">0.8 km</span>
            </div>
          </div>
        </div>
        <div class="num-example">
          <div class="num-example__label">Ratings</div>
          <div class="num-example__values">
            <div class="num-example__row">
              <span class="num-example__row-name">Food</span>
              <span class="num-example__row-value">4.5</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Service</span>
              <span class="num-example__row-value">3.8</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Atmosphere</span>
              <span class="num-example__row-value">5.0</span>
            </div>
          </div>
        </div>
        <div class="num-example">
          <div class="num-example__label">Price Range</div>
          <div class="num-example__values">
            <div class="num-example__row">
              <span class="num-example__row-name">Budget</span>
              <span class="num-example__row-value">CHF 15.&ndash;</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Mid-range</span>
              <span class="num-example__row-value">CHF 45.&ndash;</span>
            </div>
            <div class="num-example__row">
              <span class="num-example__row-name">Fine dining</span>
              <span class="num-example__row-value">CHF 120.&ndash;</span>
            </div>
          </div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin: 40px 0 16px;">Swiss Number Formatting</p>
      <div class="rule-box" style="display: flex; flex-direction: column; gap: 12px;">
        <div>
          Switzerland uses unique number formatting that differs from both English and most European conventions. Livemap follows the <strong>de_CH</strong> locale throughout.
        </div>
        <div style="display: flex; gap: 40px; flex-wrap: wrap;">
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Thousands</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">Apostrophe: 1'000'000</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Not comma, not period, not space</div>
          </div>
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Decimals</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">Period: 3.50</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Unlike Germany/France which use comma</div>
          </div>
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Currency</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">CHF 25.&ndash; or CHF 25.50</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Code before amount, .&ndash; for round amounts</div>
          </div>
        </div>
        <div style="display: flex; gap: 40px; flex-wrap: wrap;">
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Percentages</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">12.5 %</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Space before % sign</div>
          </div>
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Phone</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">+41 44 123 45 67</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Spaces in groups of 2&ndash;3</div>
          </div>
          <div>
            <div style="font-size: 11px; font-weight: 500; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px;">Time</div>
            <div style="font-size: 15px; font-weight: 500; color: #1c1c1e;">14.30 Uhr</div>
            <div style="font-size: 13px; color: #8e8e93; margin-top: 2px;">Period separator, 24-hour clock</div>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         8. SF Mono
         ============================================================ -->
    <section id="sf-mono">
      <p class="section-label">SF Mono</p>
      <p class="section-note">
        SF Mono is Apple's monospace companion to SF Pro. Use it for <span class="usage-hl">coordinates</span>, <span class="usage-hl">technical IDs</span>, <span class="usage-hl">code snippets</span>, and any data that benefits from fixed-width characters.
      </p>

      <div class="mono-specimen">
        <div class="mono-specimen__row">
          <div class="mono-specimen__label">
            <span class="mono-specimen__name">Mono Body</span>
            <span class="mono-specimen__spec">15 / 22 / Regular</span>
          </div>
          <div class="mono-specimen__sample type-mono">ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789</div>
        </div>
        <div class="mono-specimen__row">
          <div class="mono-specimen__label">
            <span class="mono-specimen__name">Mono Caption</span>
            <span class="mono-specimen__spec">12 / 16 / Regular</span>
          </div>
          <div class="mono-specimen__sample type-mono-caption">abcdefghijklmnopqrstuvwxyz 0123456789 !@#$%&amp;*</div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Real-world examples</p>

      <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 32px;">
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <span style="font-family: var(--font-family-text); font-size: 13px; color: #8e8e93; flex: 0 0 100px;">Coordinates</span>
          <span class="type-mono">47.3769, 8.5417</span>
        </div>
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <span style="font-family: var(--font-family-text); font-size: 13px; color: #8e8e93; flex: 0 0 100px;">Place ID</span>
          <span class="type-mono">lm_ch_zh_0042</span>
        </div>
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <span style="font-family: var(--font-family-text); font-size: 13px; color: #8e8e93; flex: 0 0 100px;">Timestamp</span>
          <span class="type-mono">2024-03-15T14:32:00Z</span>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Pairing with SF Pro</p>
      <div class="mono-pairing">
        Das Restaurant befindet sich bei <code>47.3769, 8.5417</code> in Zürichs historischer Altstadt. Die Place-ID <code>lm_ch_zh_0042</code> wurde zuletzt um <code>14:32 UTC</code> aktualisiert.
      </div>
    </section>


    <!-- ============================================================
         9. Uppercase & Small Caps
         ============================================================ -->
    <section id="uppercase">
      <p class="section-label">Uppercase &amp; Small Caps</p>
      <p class="section-note">
        Overline labels and small caps create subtle hierarchical markers for <span class="usage-hl">section labels</span>, <span class="usage-hl">category tags</span>, and <span class="usage-hl">metadata headers</span>. Uppercase text always needs wider tracking. Never use below 11px.
      </p>

      <div class="overline-demos">
        <div class="overline-demo">
          <div class="overline-demo__context">Section label pattern</div>
          <div class="type-overline" style="color: #8e8e93;">Livemap Design System</div>
          <div class="type-title2" style="font-weight: 600; margin-top: 4px;">Typography</div>
        </div>
        <div class="overline-demo">
          <div class="overline-demo__context">Category tag</div>
          <div class="type-overline" style="color: #007aff;">3 Fründe</div>
        </div>
        <div class="overline-demo">
          <div class="overline-demo__context">Metadata label</div>
          <div style="display: flex; align-items: baseline; gap: 16px;">
            <div class="type-overline" style="color: #aeaeb2;">Distance</div>
            <div class="type-overline" style="color: #aeaeb2;">Rating</div>
            <div class="type-overline" style="color: #aeaeb2;">Price</div>
          </div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Small Caps</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 32px;">
        <div class="type-body type-small-caps" style="font-size: 17px;">Open Monday through Saturday</div>
        <div class="type-subheadline type-small-caps">Zürich &middot; Basel &middot; Bern &middot; Luzern</div>
      </div>

      <div class="rule-box">
        <strong>Rule:</strong> Uppercase text at any size should add +0.05&ndash;0.08em tracking. Never use uppercase below 11px. The <code>.type-overline</code> class (11px / Medium / 0.06em) is the standard pattern.
      </div>
    </section>


    <!-- ============================================================
         10. Truncation & Line Length
         ============================================================ -->
    <section id="truncation">
      <p class="section-label">Truncation &amp; Line Length</p>
      <p class="section-note">
        Control how text overflows and set maximum line widths for comfortable reading. Use for <span class="usage-hl">long place names</span>, <span class="usage-hl">card descriptions</span>, and <span class="usage-hl">list items</span>. Swiss German compound words are long &mdash; be generous with widths.
      </p>

      <div class="truncation-demos">
        <div class="truncation-demo">
          <div class="truncation-demo__label">Single-line truncation</div>
          <div class="truncation-demo__box" style="max-width: 320px;">
            <div class="type-headline truncate">Schweizerisches Landesmuseum Zürich — Museumstrasse</div>
          </div>
        </div>
        <div class="truncation-demo">
          <div class="truncation-demo__label">Multi-line clamp (2 lines)</div>
          <div class="truncation-demo__box" style="max-width: 360px;">
            <div class="type-body line-clamp-2">Das Schweizerische Landesmuseum beherbergt die grösste kulturgeschichtliche Sammlung der Schweiz und befindet sich direkt neben dem Hauptbahnhof Zürich in einem märchenhaften Bau aus dem 19. Jahrhundert.</div>
          </div>
        </div>
        <div class="truncation-demo">
          <div class="truncation-demo__label">Multi-line clamp (3 lines)</div>
          <div class="truncation-demo__box" style="max-width: 360px;">
            <div class="type-body line-clamp-3">Das Schweizerische Landesmuseum beherbergt die grösste kulturgeschichtliche Sammlung der Schweiz und befindet sich direkt neben dem Hauptbahnhof Zürich in einem märchenhaften Bau aus dem 19. Jahrhundert.</div>
          </div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Line Length (Measure)</p>
      <p class="section-note" style="margin-bottom: 24px;">
        Optimal reading width is 45&ndash;75 characters per line. Three measure tokens cover common use cases.
      </p>

      <div class="measure-demo">
        <div class="measure-bar">
          <div class="measure-bar__label">Narrow &mdash; 280px (card descriptions)</div>
          <div class="measure-bar__track" style="max-width: 640px;">
            <div class="measure-bar__fill" style="width: 43.75%; opacity: 0.5;"></div>
          </div>
        </div>
        <div class="measure-bar">
          <div class="measure-bar__label">Default &mdash; 480px (body text)</div>
          <div class="measure-bar__track" style="max-width: 640px;">
            <div class="measure-bar__fill" style="width: 75%; opacity: 0.7;"></div>
          </div>
        </div>
        <div class="measure-bar">
          <div class="measure-bar__label">Wide &mdash; 640px (long-form content)</div>
          <div class="measure-bar__track" style="max-width: 640px;">
            <div class="measure-bar__fill" style="width: 100%;"></div>
          </div>
        </div>
      </div>
    </section>


    <!-- ============================================================
         11. Map Labels
         ============================================================ -->
    <section id="map-labels">
      <p class="section-label">Map Label Typography</p>
      <p class="section-note">
        Abstract presets for <span class="usage-hl">city names</span>, <span class="usage-hl">districts</span>, <span class="usage-hl">streets</span>, <span class="usage-hl">POIs</span>, and <span class="usage-hl">distance badges</span> on the map. Spec-level tokens &mdash; implementation depends on MapKit, Mapbox, or CSS overlays.
      </p>

      <div class="map-label-hierarchy">
        <div class="map-label-row">
          <div class="map-label-row__meta">
            <span class="map-label-row__name">City</span>
            <span class="map-label-row__spec">14px / Semibold / +0.02em</span>
          </div>
          <div class="map-label-row__sample" style="font-size: 14px; font-weight: 600; letter-spacing: 0.02em;">Zürich</div>
        </div>
        <div class="map-label-row">
          <div class="map-label-row__meta">
            <span class="map-label-row__name">District</span>
            <span class="map-label-row__spec">12px / Medium / +0.04em</span>
          </div>
          <div class="map-label-row__sample" style="font-size: 12px; font-weight: 500; letter-spacing: 0.04em;">Altstadt</div>
        </div>
        <div class="map-label-row">
          <div class="map-label-row__meta">
            <span class="map-label-row__name">Street</span>
            <span class="map-label-row__spec">11px / Regular / +0.02em</span>
          </div>
          <div class="map-label-row__sample" style="font-size: 11px; font-weight: 400; letter-spacing: 0.02em;">Bahnhofstrasse</div>
        </div>
        <div class="map-label-row">
          <div class="map-label-row__meta">
            <span class="map-label-row__name">POI</span>
            <span class="map-label-row__spec">12px / Medium</span>
          </div>
          <div class="map-label-row__sample" style="font-size: 12px; font-weight: 500;">Confiserie Sprüngli</div>
        </div>
        <div class="map-label-row">
          <div class="map-label-row__meta">
            <span class="map-label-row__name">Distance</span>
            <span class="map-label-row__spec">13px / Medium / tabular</span>
          </div>
          <div class="map-label-row__sample" style="font-size: 13px; font-weight: 500; font-variant-numeric: tabular-nums;">350 m</div>
        </div>
      </div>

      <!-- Simulated map context -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Halo effect on map surfaces</p>
      <div class="map-context">
        <div class="map-surface map-surface--light">
          <div class="map-halo" style="font-size: 14px; font-weight: 600; letter-spacing: 0.02em; color: #1c1c1e;">Zürich</div>
          <div class="map-halo" style="font-size: 12px; font-weight: 500; letter-spacing: 0.04em; color: #3a3a3c;">Altstadt</div>
          <div class="map-halo" style="font-size: 11px; font-weight: 400; letter-spacing: 0.02em; color: #636366;">Bahnhofstrasse</div>
          <div class="map-halo" style="font-size: 12px; font-weight: 500; color: #007aff;">Confiserie Sprüngli</div>
        </div>
        <div class="map-surface map-surface--dark">
          <div class="map-halo--dark" style="font-size: 14px; font-weight: 600; letter-spacing: 0.02em; color: #e8e8ed;">Zürich</div>
          <div class="map-halo--dark" style="font-size: 12px; font-weight: 500; letter-spacing: 0.04em; color: #a0a0b0;">Altstadt</div>
          <div class="map-halo--dark" style="font-size: 11px; font-weight: 400; letter-spacing: 0.02em; color: #70708a;">Bahnhofstrasse</div>
          <div class="map-halo--dark" style="font-size: 12px; font-weight: 500; color: #5ac8fa;">Confiserie Sprüngli</div>
        </div>
      </div>

      <!-- Condensed comparison -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px; margin-top: 32px;">Normal vs Condensed width</p>
      <div style="display: flex; gap: 48px; margin-bottom: 24px;">
        <div>
          <div style="font-family: var(--font-family-text); font-size: 11px; color: #aeaeb2; margin-bottom: 8px;">Normal (wdth: 100)</div>
          <div style="font-size: 12px; font-weight: 500; letter-spacing: 0.04em; color: #1c1c1e; font-stretch: 100%;">Schweizerisches Landesmuseum</div>
        </div>
        <div>
          <div style="font-family: var(--font-family-text); font-size: 11px; color: #aeaeb2; margin-bottom: 8px;">Condensed (wdth: 60)</div>
          <div style="font-size: 12px; font-weight: 500; letter-spacing: 0.04em; color: #1c1c1e; font-stretch: 60%;">Schweizerisches Landesmuseum</div>
        </div>
      </div>

      <div class="rule-box">
        These are <strong>spec-level tokens</strong> &mdash; implementation depends on MapKit, Mapbox, or CSS overlays. Native map SDKs handle font rendering differently from CSS.
      </div>
    </section>


    <!-- ============================================================
         12. Accessibility
         ============================================================ -->
    <section id="accessibility">
      <p class="section-label">Minimum Sizes &amp; Accessibility</p>
      <p class="section-note">
        Typography must remain legible and tappable. Minimum sizes for <span class="usage-hl">body text</span>, <span class="usage-hl">interactive labels</span>, and <span class="usage-hl">touch targets</span> per Apple's Human Interface Guidelines.
      </p>

      <!-- Minimum size demo -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Minimum size readability</p>
      <div class="size-check">
        <div class="size-check__row">
          <div class="size-check__meta">11px (Caption 2)</div>
          <div class="size-check__sample" style="font-size: 11px; line-height: 13px;">Map data &copy; OpenStreetMap contributors</div>
          <div class="size-check__status" style="color: #ff9500;">Floor</div>
        </div>
        <div class="size-check__row">
          <div class="size-check__meta">12px (Caption 1)</div>
          <div class="size-check__sample" style="font-size: 12px; line-height: 16px;">Last updated 5 minutes ago</div>
          <div class="size-check__status" style="color: #34c759;">Good</div>
        </div>
        <div class="size-check__row">
          <div class="size-check__meta">13px (Footnote)</div>
          <div class="size-check__sample" style="font-size: 13px; line-height: 18px;">Tap to view full directions to this location</div>
          <div class="size-check__status" style="color: #34c759;">Interactive min</div>
        </div>
        <div class="size-check__row">
          <div class="size-check__meta">15px (Subheadline)</div>
          <div class="size-check__sample" style="font-size: 15px; line-height: 20px;">Comfortable reading size for secondary text</div>
          <div class="size-check__status" style="color: #34c759;">Good</div>
        </div>
        <div class="size-check__row">
          <div class="size-check__meta">17px (Body)</div>
          <div class="size-check__sample" style="font-size: 17px; line-height: 22px;">Primary body text &mdash; the standard reading size</div>
          <div class="size-check__status" style="color: #34c759;">Default</div>
        </div>
      </div>

      <!-- Touch target -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Touch target minimum</p>
      <div class="touch-target-demo">
        <div class="touch-target-box">
          <span class="touch-target-box__label">44px</span>
        </div>
        <div class="touch-target-demo__text">
          All interactive elements must have a minimum touch target of 44&times;44 points (iOS HIG). Text inside tappable areas must be at least 13px.
        </div>
      </div>

      <!-- Contrast check -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Contrast check</p>
      <div class="contrast-grid">
        <div class="contrast-card" style="background: #fff; border: 1px solid #e5e5ea;">
          <div class="contrast-card__label-name" style="color: #aeaeb2;">On white</div>
          <div class="contrast-card__sample" style="color: #1c1c1e;">Primary &mdash; #1c1c1e</div>
          <div class="contrast-card__ratio" style="color: #34c759;">~16.5:1</div>
          <div class="contrast-card__sample" style="color: rgba(60, 60, 67, 0.75);">Secondary &mdash; 75% opacity</div>
          <div class="contrast-card__ratio" style="color: #34c759;">~5.0:1 Pass</div>
          <div class="contrast-card__sample" style="color: rgba(60, 60, 67, 0.30);">Tertiary &mdash; placeholders only</div>
          <div class="contrast-card__ratio" style="color: #ff3b30;">~1.9:1 Fail</div>
        </div>
        <div class="contrast-card" style="background: #1c1c1e;">
          <div class="contrast-card__label-name" style="color: rgba(255,255,255,0.4);">On dark</div>
          <div class="contrast-card__sample" style="color: #fff;">Primary &mdash; #ffffff</div>
          <div class="contrast-card__ratio" style="color: #30d158;">~16.5:1</div>
          <div class="contrast-card__sample" style="color: rgba(235, 235, 245, 0.60);">Secondary &mdash; 60% opacity</div>
          <div class="contrast-card__ratio" style="color: #30d158;">~6.8:1</div>
          <div class="contrast-card__sample" style="color: rgba(235, 235, 245, 0.30);">Tertiary &mdash; placeholders only</div>
          <div class="contrast-card__ratio" style="color: #ff453a;">~2.8:1 Fail</div>
        </div>
      </div>

      <!-- Dynamic Type table -->
      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Dynamic Type scaling</p>
      <div style="overflow-x: auto; margin-bottom: 32px;">
        <table class="dt-table">
          <thead>
            <tr>
              <th style="width: 120px;">Style</th>
              <th>xSmall</th>
              <th>Small</th>
              <th>Medium</th>
              <th>Large</th>
              <th>xLarge</th>
              <th>xxLarge</th>
              <th>xxxLarge</th>
              <th>AX1</th>
              <th>AX5</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Large Title</td>
              <td>31</td>
              <td>32</td>
              <td>33</td>
              <td>34</td>
              <td>36</td>
              <td>38</td>
              <td>40</td>
              <td>44</td>
              <td>60</td>
            </tr>
            <tr>
              <td>Body</td>
              <td>14</td>
              <td>15</td>
              <td>16</td>
              <td>17</td>
              <td>19</td>
              <td>21</td>
              <td>23</td>
              <td>28</td>
              <td>53</td>
            </tr>
            <tr>
              <td>Callout</td>
              <td>13</td>
              <td>14</td>
              <td>15</td>
              <td>16</td>
              <td>18</td>
              <td>20</td>
              <td>22</td>
              <td>26</td>
              <td>51</td>
            </tr>
            <tr>
              <td>Footnote</td>
              <td>12</td>
              <td>12</td>
              <td>12</td>
              <td>13</td>
              <td>15</td>
              <td>17</td>
              <td>19</td>
              <td>23</td>
              <td>44</td>
            </tr>
            <tr>
              <td>Caption 2</td>
              <td>11</td>
              <td>11</td>
              <td>11</td>
              <td>11</td>
              <td>13</td>
              <td>15</td>
              <td>17</td>
              <td>20</td>
              <td>40</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Rule:</strong> Never go below 11px for any text. Interactive text (tappable labels, links) never below 13px.</div>
        <div><strong>Rule:</strong> All touch targets must be at least 44&times;44 points, regardless of visible text size.</div>
        <div><strong>Rule:</strong> Native apps must support the full Dynamic Type range (xSmall through AX5).</div>
      </div>
    </section>


    <!-- ============================================================
         15. Chat Bubbles / Conversational UI
         ============================================================ -->
    <section id="chat-bubbles">
      <p class="section-label">Chat Bubbles / Conversational UI</p>
      <p class="section-note">
        Conversational UI for AI assistant interactions. <span class="usage-hl">User bubbles</span> are right-aligned with tinted background, <span class="usage-hl">assistant bubbles</span> left-aligned with neutral background.
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Conversation pattern</p>
      <div class="chat-demo">
        <div class="bubble-system">Heute, 14:32</div>

        <div class="bubble-user">Wo ist der nächste Veloweg zum See?</div>
        <div class="bubble-time bubble-time--right">14:32</div>

        <div class="bubble-assistant">Der <strong>Seeuferweg</strong> beginnt in 350 m Richtung Norden. Er führt direkt am Zürichsee entlang.</div>
        <div class="bubble-time bubble-time--left">14:32</div>

        <div class="bubble-user">Zeig mir die Route mit <code>ETA</code></div>
        <div class="bubble-time bubble-time--right">14:33</div>

        <div class="bubble-assistant" style="padding: 0; background: none;">
          <div class="bubble-assistant chat-typing">
            <div class="chat-typing__dot"></div>
            <div class="chat-typing__dot"></div>
            <div class="chat-typing__dot"></div>
          </div>
        </div>

        <div class="bubble-system">Der Assistent berechnet die Route …</div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Body 17px</strong> for user and assistant messages. Inline <code>code</code> uses SF Mono 15px.</div>
        <div><strong>Caption1 12px</strong> for system messages (centered). <strong>Caption2 11px</strong> for timestamps (tertiary color).</div>
        <div><strong>Rule:</strong> Maximum bubble width ~280px to maintain readable line length on mobile.</div>
      </div>
    </section>


    <!-- ============================================================
         16. Timestamps & Live Data
         ============================================================ -->
    <section id="timestamps">
      <p class="section-label">Timestamps &amp; Live Data</p>
      <p class="section-note">
        Real-time text patterns for time, distance, and status. Always use <span class="usage-hl">tabular figures</span> for values that update live to prevent layout jumps.
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Relative time formats</p>
      <div class="timestamp-grid">
        <div class="timestamp-row">
          <div class="timestamp-row__label">&lt; 1 minute</div>
          <div class="timestamp-row__value type-live-data">Gerade eben</div>
        </div>
        <div class="timestamp-row">
          <div class="timestamp-row__label">Minutes</div>
          <div class="timestamp-row__value type-live-data">vor 2 Min.</div>
        </div>
        <div class="timestamp-row">
          <div class="timestamp-row__label">Hours</div>
          <div class="timestamp-row__value type-live-data">vor 1 Std.</div>
        </div>
        <div class="timestamp-row">
          <div class="timestamp-row__label">&gt; 24 hours</div>
          <div class="timestamp-row__value type-live-data">Gestern</div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Live-updating values</p>
      <div style="display: flex; flex-direction: column; gap: 16px; margin-bottom: 32px;">
        <div class="live-pill">
          <div class="live-pill__dot"></div>
          <span class="type-live-data">350 m — 4 Min.</span>
        </div>
        <div class="live-pill">
          <span class="type-live-data" style="color: #ff9500;">Schliesst in 23 Min.</span>
        </div>
        <div class="live-pill">
          <span class="type-live-data" style="color: #34c759;">Offen bis 22.00 Uhr</span>
        </div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Rule:</strong> Always use <code>.tabular-nums</code> or <code>.type-live-data</code> for numbers that change. This prevents layout shifts as digits update.</div>
        <div><strong>Rule:</strong> Use relative time for anything under 24 hours. Switch to absolute date for older content.</div>
        <div><strong>Swiss format:</strong> Use period separator for time (22.00 Uhr), not colon.</div>
      </div>
    </section>


    <!-- ============================================================
         17. Navigation & Wayfinding
         ============================================================ -->
    <section id="navigation">
      <p class="section-label">Navigation &amp; Wayfinding</p>
      <p class="section-note">
        Turn-by-turn instruction hierarchy for routing. Three distinct levels: <span class="usage-hl">maneuver</span> (what to do), <span class="usage-hl">street</span> (where), and <span class="usage-hl">distance</span> (how far).
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Turn-by-turn hierarchy</p>
      <div class="nav-demo">
        <div class="nav-maneuver">Rechts abbiegen</div>
        <div class="nav-street">Bahnhofstrasse</div>
        <div class="nav-distance" style="color: var(--color-label-secondary);">350 m</div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Route summary</p>
      <div class="nav-summary-bar">
        <div class="nav-summary-bar__item">
          <div class="nav-summary-bar__value">12 Min.</div>
          <div class="nav-summary-bar__label">Dauer</div>
        </div>
        <div class="nav-summary-bar__item">
          <div class="nav-summary-bar__value">2,4 km</div>
          <div class="nav-summary-bar__label">Distanz</div>
        </div>
        <div class="nav-summary-bar__item">
          <div class="nav-summary-bar__value">Velo</div>
          <div class="nav-summary-bar__label">Modus</div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Step numbering</p>
      <div class="nav-demo">
        <div class="nav-step">
          <div class="nav-step__number">1</div>
          <div class="nav-step__text">
            <div class="type-body">Geradeaus auf <strong>Limmatquai</strong></div>
            <div class="nav-distance" style="color: var(--color-label-secondary);">200 m</div>
          </div>
        </div>
        <div class="nav-step">
          <div class="nav-step__number">2</div>
          <div class="nav-step__text">
            <div class="type-body">Rechts abbiegen auf <strong>Bahnhofstrasse</strong></div>
            <div class="nav-distance" style="color: var(--color-label-secondary);">350 m</div>
          </div>
        </div>
        <div class="nav-step">
          <div class="nav-step__number">3</div>
          <div class="nav-step__text">
            <div class="type-body">Ziel erreicht: <strong>Hauptbahnhof</strong></div>
            <div class="nav-distance" style="color: var(--color-label-secondary);">—</div>
          </div>
        </div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Maneuver:</strong> Title3 20px Semibold — the primary action. <strong>Street:</strong> Headline 17px Semibold — the context.</div>
        <div><strong>Distance:</strong> Subheadline 15px with tabular figures — always updating.</div>
        <div><strong>Step numbers:</strong> Caption1 12px Medium in a circle, paired with Body instruction text.</div>
      </div>
    </section>


    <!-- ============================================================
         18. States & Feedback
         ============================================================ -->
    <section id="states">
      <p class="section-label">States &amp; Feedback</p>
      <p class="section-note">
        Typography for UI states: <span class="usage-hl">empty states</span>, <span class="usage-hl">errors</span>, <span class="usage-hl">success</span>, <span class="usage-hl">loading</span>, and <span class="usage-hl">warnings</span>. Color and weight signal severity.
      </p>

      <div class="state-demo">
        <!-- Empty State -->
        <div>
          <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Empty state</p>
          <div class="state-card state-card--centered">
            <div class="type-title2" style="color: var(--color-label-secondary);">Keine Ergebnisse</div>
            <div class="type-body" style="color: var(--color-label-secondary);">Versuche einen anderen Suchbegriff oder ändere die Filter.</div>
          </div>
        </div>

        <!-- Error -->
        <div>
          <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Error message</p>
          <div style="max-width: 400px;">
            <div class="type-body" style="color: var(--color-tint-destructive);">Verbindung fehlgeschlagen. Erneut versuchen?</div>
          </div>
        </div>

        <!-- Warning -->
        <div>
          <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Warning</p>
          <div style="max-width: 400px;">
            <div class="type-body" style="color: #ff9500;">GPS-Signal schwach. Position kann ungenau sein.</div>
          </div>
        </div>

        <!-- Success toast -->
        <div>
          <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Success toast</p>
          <div class="state-toast">
            <div class="state-toast__icon">✓</div>
            <span class="type-footnote" style="color: #fff;">Route gespeichert</span>
          </div>
        </div>

        <!-- Loading skeleton -->
        <div>
          <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Loading skeleton</p>
          <div class="skeleton-lines">
            <div class="skeleton-line" style="width: 100%;"></div>
            <div class="skeleton-line"></div>
            <div class="skeleton-line"></div>
          </div>
        </div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Empty state:</strong> Title2 heading + Body description, centered, secondary color.</div>
        <div><strong>Error:</strong> Body with destructive tint. <strong>Warning:</strong> Body with amber/orange.</div>
        <div><strong>Success toast:</strong> Footnote on dark pill. <strong>Skeleton:</strong> gray bars matching text line heights.</div>
      </div>
    </section>


    <!-- ============================================================
         19. Search Patterns
         ============================================================ -->
    <section id="search">
      <p class="section-label">Search Patterns</p>
      <p class="section-note">
        Search input, autocomplete results with <span class="usage-hl">bold matched substrings</span>, recent searches, and category headers.
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Search input</p>
      <div class="search-demo-input">
        <div class="search-demo-input__icon"></div>
        <span class="type-body" style="color: var(--color-label-secondary);">Orte suchen …</span>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Autocomplete results</p>
      <div class="search-autocomplete">
        <div class="search-autocomplete__row">
          <div class="type-headline weight-regular"><span class="search-match">Bahn</span>hofstrasse</div>
          <div class="type-footnote" style="color: var(--color-label-secondary);">8001 Zürich, Kreis 1</div>
        </div>
        <div class="search-autocomplete__row">
          <div class="type-headline weight-regular"><span class="search-match">Bahn</span>hofplatz</div>
          <div class="type-footnote" style="color: var(--color-label-secondary);">8001 Zürich, Hauptbahnhof</div>
        </div>
        <div class="search-autocomplete__row">
          <div class="type-headline weight-regular"><span class="search-match">Bahn</span>hofquai</div>
          <div class="type-footnote" style="color: var(--color-label-secondary);">8001 Zürich, Altstadt</div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Recent searches</p>
      <div style="display: flex; flex-direction: column; gap: 0; max-width: 400px; margin-bottom: 24px;">
        <div class="search-recent">
          <div class="search-recent__icon"></div>
          <span class="type-subheadline" style="color: var(--color-label-secondary);">Zürich HB</span>
        </div>
        <div class="search-recent">
          <div class="search-recent__icon"></div>
          <span class="type-subheadline" style="color: var(--color-label-secondary);">Bürkliplatz</span>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Category headers &amp; empty state</p>
      <div style="max-width: 400px; margin-bottom: 32px;">
        <div class="type-overline" style="margin-bottom: 12px; color: #8e8e93;">Restaurants</div>
        <div class="type-overline" style="margin-bottom: 12px; color: #8e8e93;">Sehenswürdigkeiten</div>
        <div class="type-footnote" style="color: var(--color-label-secondary);">Keine Ergebnisse für «Xyz»</div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Input:</strong> Body 17px with tertiary placeholder. <strong>Results:</strong> Headline for name + Footnote for address.</div>
        <div><strong>Match highlight:</strong> Use <code>.search-match</code> (bold) on the matched substring. Set the result name to <code>weight-regular</code> so the bold match stands out.</div>
        <div><strong>Recent:</strong> Subheadline 15px, secondary color. <strong>Categories:</strong> <code>.type-overline</code>.</div>
      </div>
    </section>


    <!-- ============================================================
         20. Multilingual (CH)
         ============================================================ -->
    <section id="multilingual">
      <p class="section-label">Multilingual (CH)</p>
      <p class="section-note">
        Switzerland has four official languages. German text is typically the longest — always test layouts with <span class="usage-hl">German strings</span> first.
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Same string — four languages</p>
      <div class="lang-compare">
        <div class="lang-compare__row">
          <div class="lang-compare__lang">DE</div>
          <div class="lang-compare__text">Wegbeschreibung</div>
          <div class="lang-compare__bar"><div class="lang-compare__bar-fill" style="width: 100%;"></div></div>
        </div>
        <div class="lang-compare__row">
          <div class="lang-compare__lang">FR</div>
          <div class="lang-compare__text">Itinéraire</div>
          <div class="lang-compare__bar"><div class="lang-compare__bar-fill" style="width: 70%;"></div></div>
        </div>
        <div class="lang-compare__row">
          <div class="lang-compare__lang">IT</div>
          <div class="lang-compare__text">Indicazioni</div>
          <div class="lang-compare__bar"><div class="lang-compare__bar-fill" style="width: 75%;"></div></div>
        </div>
        <div class="lang-compare__row">
          <div class="lang-compare__lang">EN</div>
          <div class="lang-compare__text">Directions</div>
          <div class="lang-compare__bar"><div class="lang-compare__bar-fill" style="width: 65%;"></div></div>
        </div>
      </div>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Text expansion from English baseline</p>
      <table class="expansion-table">
        <thead>
          <tr>
            <th style="width: 80px;">Language</th>
            <th style="width: 120px;">Expansion</th>
            <th>Example</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>EN</td>
            <td>Baseline</td>
            <td>Directions</td>
          </tr>
          <tr>
            <td>DE</td>
            <td>+30%</td>
            <td>Wegbeschreibung</td>
          </tr>
          <tr>
            <td>FR</td>
            <td>+20%</td>
            <td>Itinéraire</td>
          </tr>
          <tr>
            <td>IT</td>
            <td>+15%</td>
            <td>Indicazioni</td>
          </tr>
        </tbody>
      </table>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Long compound words (German)</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 32px; max-width: 480px;">
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <div class="type-headline" style="flex: 1;">Geschwindigkeitsbegrenzung</div>
          <div class="type-caption1" style="color: #aeaeb2; flex: 0 0 auto;">26 characters</div>
        </div>
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <div class="type-headline" style="flex: 1;">Strassenverkehrsamt</div>
          <div class="type-caption1" style="color: #aeaeb2; flex: 0 0 auto;">19 characters</div>
        </div>
        <div style="display: flex; align-items: baseline; gap: 16px;">
          <div class="type-headline" style="flex: 1;">Fussgängerübergang</div>
          <div class="type-caption1" style="color: #aeaeb2; flex: 0 0 auto;">18 characters</div>
        </div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Rule:</strong> Always test layouts with German strings first — they are typically 30% longer than English.</div>
        <div><strong>Rule:</strong> Never hard-code widths for text containers. Use <code>flex</code> and <code>min-width: 0</code>.</div>
        <div><strong>Rule:</strong> Use truncation (<code>.truncate</code>) as a safety net, not as the primary strategy.</div>
        <div><strong>Note:</strong> Swiss German (Schwyzerdütsch) uses unique spellings in informal contexts — e.g., «Strasse» not «Straße».</div>
      </div>
    </section>


    <!-- ============================================================
         21. Interactive Text
         ============================================================ -->
    <section id="interactive">
      <p class="section-label">Interactive Text</p>
      <p class="section-note">
        Tappable and linked text patterns. All interactive text must be at least <span class="usage-hl">13px</span> with a touch target of <span class="usage-hl">44px</span>. Action color signals interactivity.
      </p>

      <div class="interactive-demos">
        <div class="interactive-demo">
          <div class="interactive-demo__label">Inline link</div>
          <div class="type-body" style="max-width: 480px;">
            Die vollständige Karte finden Sie unter <span style="color: var(--color-tint-action); cursor: pointer;">Livemap Zürich</span> mit allen aktuellen Routen und Haltestellen.
          </div>
        </div>

        <div class="interactive-demo">
          <div class="interactive-demo__label">Tappable phone number</div>
          <div class="type-mono" style="color: var(--color-tint-action); cursor: pointer;">+41 44 123 45 67</div>
        </div>

        <div class="interactive-demo">
          <div class="interactive-demo__label">Tappable address</div>
          <div class="type-subheadline" style="color: var(--color-tint-action); cursor: pointer;">Bahnhofstrasse 1, 8001 Zürich</div>
        </div>

        <div class="interactive-demo">
          <div class="interactive-demo__label">URL display (truncated middle)</div>
          <div class="type-mono-caption" style="color: var(--color-tint-action); cursor: pointer;">livemap.ch/…/zh0042</div>
        </div>

        <div class="interactive-demo">
          <div class="interactive-demo__label">Badge with count</div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <span class="badge-count">3</span>
            <span class="badge-count">12</span>
            <span class="badge-count">99+</span>
          </div>
        </div>

        <div class="interactive-demo">
          <div class="interactive-demo__label">Chips / Tags</div>
          <div style="display: flex; flex-wrap: wrap; gap: 8px;">
            <span class="chip-tag">Restaurant</span>
            <span class="chip-tag">Geöffnet</span>
            <span class="chip-tag">Velo-freundlich</span>
          </div>
        </div>
      </div>

      <div class="rule-box" style="display: flex; flex-direction: column; gap: 8px;">
        <div><strong>Rule:</strong> All tappable text &ge; 13px (<code>--font-size-minimum-interactive</code>). Touch target &ge; 44px.</div>
        <div><strong>Rule:</strong> Use <code>--color-tint-action</code> for interactive text. No underline — color alone signals tappability in iOS patterns.</div>
        <div><strong>Badges:</strong> SF Pro Rounded, Caption1 12px, white on tinted circle. <strong>Chips:</strong> Footnote Medium, tinted background.</div>
      </div>
    </section>


    <!-- ============================================================
         13. Token Reference
         ============================================================ -->
    <section id="token-reference">
      <p class="section-label">CSS Token Reference</p>
      <p class="section-note">
        All tokens are defined as CSS custom properties in <code>typography.css</code>. Use the utility classes for quick application, or reference tokens directly for custom components.
      </p>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 16px;">Type Scale</p>
      <table class="ref-table">
        <thead>
          <tr>
            <th style="width: 160px;">Style</th>
            <th style="width: 180px;">Class</th>
            <th style="width: 120px;">Size Token</th>
            <th style="width: 130px;">Leading Token</th>
            <th>Tracking Token</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Large Title</td>
            <td><code>.type-large-title</code></td>
            <td><code>--font-size-large-title</code></td>
            <td><code>--line-height-large-title</code></td>
            <td><code>--tracking-large-title</code></td>
          </tr>
          <tr>
            <td>Title 1</td>
            <td><code>.type-title1</code></td>
            <td><code>--font-size-title1</code></td>
            <td><code>--line-height-title1</code></td>
            <td><code>--tracking-title1</code></td>
          </tr>
          <tr>
            <td>Title 2</td>
            <td><code>.type-title2</code></td>
            <td><code>--font-size-title2</code></td>
            <td><code>--line-height-title2</code></td>
            <td><code>--tracking-title2</code></td>
          </tr>
          <tr>
            <td>Title 3</td>
            <td><code>.type-title3</code></td>
            <td><code>--font-size-title3</code></td>
            <td><code>--line-height-title3</code></td>
            <td><code>--tracking-title3</code></td>
          </tr>
          <tr>
            <td>Headline</td>
            <td><code>.type-headline</code></td>
            <td><code>--font-size-headline</code></td>
            <td><code>--line-height-headline</code></td>
            <td><code>--tracking-headline</code></td>
          </tr>
          <tr>
            <td>Body</td>
            <td><code>.type-body</code></td>
            <td><code>--font-size-body</code></td>
            <td><code>--line-height-body</code></td>
            <td><code>--tracking-body</code></td>
          </tr>
          <tr>
            <td>Callout</td>
            <td><code>.type-callout</code></td>
            <td><code>--font-size-callout</code></td>
            <td><code>--line-height-callout</code></td>
            <td><code>--tracking-callout</code></td>
          </tr>
          <tr>
            <td>Subheadline</td>
            <td><code>.type-subheadline</code></td>
            <td><code>--font-size-subheadline</code></td>
            <td><code>--line-height-subheadline</code></td>
            <td><code>--tracking-subheadline</code></td>
          </tr>
          <tr>
            <td>Footnote</td>
            <td><code>.type-footnote</code></td>
            <td><code>--font-size-footnote</code></td>
            <td><code>--line-height-footnote</code></td>
            <td><code>--tracking-footnote</code></td>
          </tr>
          <tr>
            <td>Caption 1</td>
            <td><code>.type-caption1</code></td>
            <td><code>--font-size-caption1</code></td>
            <td><code>--line-height-caption1</code></td>
            <td><code>--tracking-caption1</code></td>
          </tr>
          <tr>
            <td>Caption 2</td>
            <td><code>.type-caption2</code></td>
            <td><code>--font-size-caption2</code></td>
            <td><code>--line-height-caption2</code></td>
            <td><code>--tracking-caption2</code></td>
          </tr>
        </tbody>
      </table>

      <p style="font-family: var(--font-family-text); font-size: 11px; font-weight: 600; color: #aeaeb2; text-transform: uppercase; letter-spacing: 0.06em; margin: 40px 0 16px;">Colors, Numbers &amp; Utilities</p>
      <table class="ref-table">
        <thead>
          <tr>
            <th style="width: 160px;">Category</th>
            <th style="width: 220px;">Token / Class</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Label colors</td>
            <td><code>--color-label</code></td>
            <td><code>#1c1c1e</code> / <code>#fff</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--color-label-secondary</code></td>
            <td><code>rgba(60,60,67,0.75)</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--color-label-tertiary</code></td>
            <td><code>rgba(60,60,67,0.3)</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--color-label-quaternary</code></td>
            <td><code>rgba(60,60,67,0.18)</code></td>
          </tr>
          <tr>
            <td>Tint colors</td>
            <td><code>--color-tint-destructive</code></td>
            <td><code>#ff3b30</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--color-tint-positive</code></td>
            <td><code>#34c759</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--color-tint-action</code></td>
            <td><code>#007aff</code></td>
          </tr>
          <tr>
            <td>Monospace</td>
            <td><code>--font-family-mono</code></td>
            <td><code>"SF Mono", ui-monospace, Menlo</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>.type-mono</code></td>
            <td>15px / Regular</td>
          </tr>
          <tr>
            <td></td>
            <td><code>.type-mono-caption</code></td>
            <td>12px / Regular</td>
          </tr>
          <tr>
            <td>Numeric</td>
            <td><code>.tabular-nums</code></td>
            <td>Equal-width digits</td>
          </tr>
          <tr>
            <td></td>
            <td><code>.type-data</code></td>
            <td>15px / Medium / tabular</td>
          </tr>
          <tr>
            <td>Uppercase</td>
            <td><code>.type-overline</code></td>
            <td>11px / Medium / uppercase / +0.06em</td>
          </tr>
          <tr>
            <td></td>
            <td><code>.type-small-caps</code></td>
            <td>all-small-caps / +0.05em</td>
          </tr>
          <tr>
            <td>Truncation</td>
            <td><code>.truncate</code></td>
            <td>Single-line ellipsis</td>
          </tr>
          <tr>
            <td></td>
            <td><code>.line-clamp-2</code></td>
            <td>2-line clamp</td>
          </tr>
          <tr>
            <td></td>
            <td><code>.line-clamp-3</code></td>
            <td>3-line clamp</td>
          </tr>
          <tr>
            <td>Measure</td>
            <td><code>--measure-narrow</code></td>
            <td><code>280px</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--measure-default</code></td>
            <td><code>480px</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--measure-wide</code></td>
            <td><code>640px</code></td>
          </tr>
          <tr>
            <td>Accessibility</td>
            <td><code>--font-size-minimum</code></td>
            <td><code>11px</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--font-size-minimum-interactive</code></td>
            <td><code>13px</code></td>
          </tr>
          <tr>
            <td></td>
            <td><code>--touch-target-minimum</code></td>
            <td><code>44px</code></td>
          </tr>
        </tbody>
      </table>
    </section>


    <!-- ============================================================
         14. Usage Notes
         ============================================================ -->
    <section id="usage-notes">
      <p class="section-label">Usage Notes</p>
      <div style="display: flex; flex-direction: column; gap: 24px; max-width: 640px;">
        <div>
          <p class="type-headline" style="margin-bottom: 4px;">Optical sizing</p>
          <p class="type-body" style="color: #636366;">
            SF Pro automatically adjusts letter shapes based on size via the <code>opsz</code> axis. At small sizes, letters are wider with more open counters for legibility. At large sizes, spacing tightens for elegance. Prefer <code>SF Pro</code> over explicit Display/Text cuts to let the browser handle this.
          </p>
        </div>
        <div>
          <p class="type-headline" style="margin-bottom: 4px;">Tracking matters</p>
          <p class="type-body" style="color: #636366;">
            Apple's tracking values are carefully tuned per style. Display sizes use positive tracking (slightly open), while text sizes use negative tracking (slightly tight). Always apply the tracking token alongside size and weight.
          </p>
        </div>
        <div>
          <p class="type-headline" style="margin-bottom: 4px;">Width variants for maps</p>
          <p class="type-body" style="color: #636366;">
            Compressed and Condensed widths are especially useful for map labels, data-dense panels, and compact navigation where horizontal space is limited. Use <code>font-stretch</code> or the named CSS variable to access them.
          </p>
        </div>
        <div>
          <p class="type-headline" style="margin-bottom: 4px;">Rounded for warmth</p>
          <p class="type-body" style="color: #636366;">
            SF Pro Rounded shares identical metrics with SF Pro but has softer stroke terminals. Use it for badges, tags, onboarding text, or any moment where the UI should feel approachable. Avoid mixing Rounded and default in the same text block.
          </p>
        </div>
        <div>
          <p class="type-headline" style="margin-bottom: 4px;">Platform availability</p>
          <p class="type-body" style="color: #636366;">
            SF Pro is pre-installed on macOS, iOS, iPadOS, watchOS, and tvOS. It is not available on Windows or Android. The CSS fallback stack (<code>-apple-system, BlinkMacSystemFont, system-ui, sans-serif</code>) ensures graceful degradation to each platform's system font.
          </p>
        </div>
      </div>
    </section>

    </div><!-- /.main-content -->

  </div>

  <script>
    // Highlight active sidebar link on scroll
    (function () {
      const links = document.querySelectorAll('.sidebar__link');
      const sections = [];
      links.forEach(function (link) {
        var id = link.getAttribute('href').slice(1);
        var el = document.getElementById(id);
        if (el) sections.push({ id: id, el: el, link: link });
      });

      function update() {
        var current = '';
        for (var i = sections.length - 1; i >= 0; i--) {
          if (sections[i].el.getBoundingClientRect().top <= 80) {
            current = sections[i].id;
            break;
          }
        }
        links.forEach(function (l) { l.classList.remove('is-active'); });
        if (current) {
          var active = document.querySelector('.sidebar__link[href="#' + current + '"]');
          if (active) active.classList.add('is-active');
        }
      }

      window.addEventListener('scroll', update, { passive: true });
      update();
    })();

    // ---- Instant search with highlighting ----
    (function () {
      var input = document.getElementById('search-input');
      var clearBtn = document.getElementById('search-clear');
      var container = document.getElementById('sidebar-search');
      var meta = document.getElementById('search-meta');
      var prevBtn = document.getElementById('search-prev');
      var nextBtn = document.getElementById('search-next');
      var content = document.querySelector('.main-content');

      var marks = [];
      var currentIdx = -1;
      var debounceTimer = null;

      // Remove all existing highlights
      function clearHighlights() {
        var existing = content.querySelectorAll('mark.search-hl');
        for (var i = existing.length - 1; i >= 0; i--) {
          var m = existing[i];
          var parent = m.parentNode;
          parent.replaceChild(document.createTextNode(m.textContent), m);
          parent.normalize();
        }
        marks = [];
        currentIdx = -1;
      }

      // Walk text nodes and wrap matches
      function highlightMatches(query) {
        clearHighlights();
        if (!query || query.length < 2) {
          updateMeta(0);
          return;
        }

        var lowerQuery = query.toLowerCase();
        var walker = document.createTreeWalker(content, NodeFilter.SHOW_TEXT, null);
        var textNodes = [];

        while (walker.nextNode()) {
          var parent = walker.currentNode.parentNode;
          if (parent.closest && parent.closest('script, style, mark.search-hl')) continue;
          if (walker.currentNode.textContent.toLowerCase().indexOf(lowerQuery) !== -1) {
            textNodes.push(walker.currentNode);
          }
        }

        for (var i = 0; i < textNodes.length; i++) {
          highlightTextNode(textNodes[i], lowerQuery);
        }

        marks = Array.from(content.querySelectorAll('mark.search-hl'));
        updateMeta(marks.length);

        if (marks.length > 0) {
          goToMatch(0);
        }
      }

      function highlightTextNode(textNode, lowerQuery) {
        var text = textNode.textContent;
        var lower = text.toLowerCase();
        var idx = lower.indexOf(lowerQuery);
        if (idx === -1) return;

        var frag = document.createDocumentFragment();
        var lastIdx = 0;

        while (idx !== -1) {
          if (idx > lastIdx) {
            frag.appendChild(document.createTextNode(text.slice(lastIdx, idx)));
          }
          var mark = document.createElement('mark');
          mark.className = 'search-hl';
          mark.textContent = text.slice(idx, idx + lowerQuery.length);
          frag.appendChild(mark);
          lastIdx = idx + lowerQuery.length;
          idx = lower.indexOf(lowerQuery, lastIdx);
        }

        if (lastIdx < text.length) {
          frag.appendChild(document.createTextNode(text.slice(lastIdx)));
        }

        textNode.parentNode.replaceChild(frag, textNode);
      }

      function updateMeta(count) {
        if (count === 0 && input.value.length >= 2) {
          meta.textContent = 'No matches';
        } else if (count > 0) {
          meta.textContent = (currentIdx + 1) + ' of ' + count;
        } else {
          meta.innerHTML = '<kbd>/</kbd> to search';
        }
        prevBtn.disabled = count <= 1;
        nextBtn.disabled = count <= 1;
      }

      function goToMatch(idx) {
        if (marks.length === 0) return;
        if (currentIdx >= 0 && currentIdx < marks.length) {
          marks[currentIdx].classList.remove('search-hl--current');
        }
        currentIdx = ((idx % marks.length) + marks.length) % marks.length;
        marks[currentIdx].classList.add('search-hl--current');
        updateMeta(marks.length);
        marks[currentIdx].scrollIntoView({ behavior: 'smooth', block: 'center' });
      }

      input.addEventListener('input', function () {
        var q = input.value.trim();
        container.classList.toggle('sidebar__search--has-query', q.length > 0);
        clearTimeout(debounceTimer);
        debounceTimer = setTimeout(function () {
          highlightMatches(q);
        }, 120);
      });

      clearBtn.addEventListener('click', function () {
        input.value = '';
        container.classList.remove('sidebar__search--has-query');
        clearHighlights();
        updateMeta(0);
        input.focus();
      });

      prevBtn.addEventListener('click', function () {
        goToMatch(currentIdx - 1);
      });
      nextBtn.addEventListener('click', function () {
        goToMatch(currentIdx + 1);
      });

      input.addEventListener('keydown', function (e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          goToMatch(e.shiftKey ? currentIdx - 1 : currentIdx + 1);
        }
        if (e.key === 'Escape') {
          input.value = '';
          container.classList.remove('sidebar__search--has-query');
          clearHighlights();
          updateMeta(0);
          input.blur();
        }
      });

      // Global shortcut: "/" to focus search
      document.addEventListener('keydown', function (e) {
        if (e.key === '/' && !e.ctrlKey && !e.metaKey && !e.altKey) {
          var tag = (e.target.tagName || '').toLowerCase();
          if (tag === 'input' || tag === 'textarea' || e.target.isContentEditable) return;
          e.preventDefault();
          input.focus();
          input.select();
        }
      });

      updateMeta(0);
    })();
  </script>
</body>
</html>
